{"version":3,"sources":["components/Home.jsx","components/Global.jsx","App.js","index.js"],"names":["Home","socket","useState","name","setname","history","useHistory","className","onSubmit","e","preventDefault","i","Math","floor","random","push","type","value","placeholder","onChange","target","trim","required","Global","location","message","setmessage","messages","setmessages","globalActiveUsers","setActiveUsers","loading","setloading","useEffect","io","search","query","parse","emit","user","on","data","element","document","getElementById","scrollTop","scrollHeight","map","item","id","index","msg","list","sendlist","length","substring","App","path","exact","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.9c5d98db.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {GoGlobe} from 'react-icons/go'\r\nfunction Home() {\r\n    var [name, setname] = useState('')\r\n    const history = useHistory()\r\n    \r\n    const submit=(e)=>{\r\n        e.preventDefault()\r\n        \r\n        for(var i=0;i<3;i++){\r\n            setname(name += Math.floor(Math.random()*10))\r\n        }\r\n        history.push(`/global/?name=${name}`)\r\n    }\r\n    return (\r\n        <div className=\"mainbody\">\r\n            <div className=\"global\">\r\n                \r\n                <h2><span><GoGlobe /></span>Global-Chat</h2>\r\n                <p>Dear User,Welcome to <code>GLOBAL-CHAT</code>.<br />Join the chat by entering your name and start Exploring </p>\r\n                <div className=\"items\">\r\n                    <form onSubmit={submit}>\r\n                        <p>Username</p>\r\n                <input type=\"text\" value={name} placeholder=\"Enter username...\" onChange={(e)=>{setname(e.target.value.trim())}} required />\r\n                <button  type='submit'>Join Chat</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            \r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, { useEffect, useState } from \"react\";\r\nimport query from \"query-string\";\r\nimport io from \"socket.io-client\";\r\nimport { GoGlobe } from \"react-icons/go\";\r\nimport {FaUsers} from 'react-icons/fa'\r\n\r\nlet socket;\r\nconst link = \"https://global-951.herokuapp.com/\";\r\n// const link = 'http://localhost:3001'\r\n\r\nfunction Global({ location }) {\r\n  const [name, setname] = useState(\"\");\r\n  const [message, setmessage] = useState(\"\");\r\n  const [messages, setmessages] = useState([]);\r\n  const [globalActiveUsers, setActiveUsers] = useState([]);\r\n  const [loading, setloading] = useState(true);\r\n  useEffect(() => {\r\n    setloading(true);\r\n    socket = io(link);\r\n    const search = query.parse(location.search);\r\n    setname(search.name);\r\n\r\n    socket.emit(\"globaljoin\", { user: search.name });\r\n    socket.on(\"ActiveUsers\", (data) => {\r\n      setActiveUsers(data);\r\n    });\r\n    setloading(false);\r\n  }, [location.search]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"message\", (data) => {\r\n      setmessages([...messages, data]);\r\n  const element = document.getElementById('messages')\r\n\r\n    element.scrollTop = element.scrollHeight;\r\n    });\r\n  });\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    if(message.trim()){\r\n      const item = { user: name, msg: message };\r\n      socket.emit(\"sendMessage\", item);\r\n      setmessage(\"\");\r\n      socket.on(\"ActiveUsers\", (data) => {\r\n      setActiveUsers(data);\r\n    });\r\n    }\r\n    if(message.trim() === '/online'){\r\n      const list = globalActiveUsers.map(item => item.user)\r\n      var sendlist = ''\r\n      for(var i = 0;i < list.length;i++){\r\n        sendlist += `${i+1}.`+ list[i] + ', '\r\n      }\r\n      sendlist = sendlist.substring(0,sendlist.length-2)\r\n\r\n      const item = { user: 'admin', msg: sendlist };\r\n      socket.emit(\"sendMessage\", item);\r\n    }\r\n  };\r\n  const typing = (e) => {\r\n    setmessage(e.target.value);\r\n  };\r\n  if (loading) {\r\n    return <h1>Loading...</h1>;\r\n  }\r\n  return (\r\n    <div className=\"chatbody\">\r\n      <div className=\"bg\"></div>\r\n        <div className=\"head\">\r\n          <h2>\r\n            <span>\r\n              <GoGlobe />\r\n            </span>\r\n            Global-Chat\r\n          </h2>\r\n        </div>\r\n      <div className=\"mainchatbody\">\r\n\r\n        <div className=\"left\">\r\n          <div className=\"title\">\r\n              <em>Your Username:</em>\r\n              <p>{name}</p>\r\n          </div>\r\n          <div className=\"online\">\r\n            <p><span><FaUsers /></span>Online Users:</p>\r\n            <ul>\r\n              {globalActiveUsers.map((item) => {\r\n                return <li key={item.id}>{item.user}</li>;\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div className=\"right\">\r\n          <div className=\"messages\" id=\"messages\" >\r\n\r\n            {messages.map((item, index) => {\r\n               if(item.user !== 'admin') {\r\n                return (\r\n                    <div className=\"message\" key={index}>\r\n                      <p className=\"username\">{item.user}</p>\r\n                      <p className=\"usermessage\">{item.msg}</p>\r\n                    </div>\r\n                  );\r\n               }\r\n               else{\r\n                return (\r\n                    <div className=\"adminMessage\" key={index}>\r\n                      <p className=\"adminusername\">{item.user}</p>\r\n                      <p className=\"adminusermessage\">{item.msg}</p>\r\n                    </div>\r\n                  );\r\n               }\r\n              \r\n            })}\r\n          </div>\r\n          <div className=\"send\">\r\n            <form onSubmit={sendMessage}>\r\n              <input type=\"text\" value={message} onChange={typing} placeholder=\"Type a message...\" />\r\n              <button type=\"submit\">Send</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Global;\r\n","import React from 'react'\nimport {BrowserRouter as Router,Route} from 'react-router-dom';\nimport Home from './components/Home';\nimport Global from './components/Global';\nimport './App.css'\n\nfunction App() {\n  return (\n    <>\n         <div className=\"bgblur\"></div>\n\n      <Router>\n        <Route path='/Global-Chat/' exact component={Home} />\n        <Route path='/global'  component={Global} />\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />,document.getElementById('root'));\n\n"],"sourceRoot":""}