(this.webpackJsonpglobalchat=this.webpackJsonpglobalchat||[]).push([[0],{97:function(e,s,t){},98:function(e,s,t){"use strict";t.r(s);var c=t(1),a=t(48),n=t.n(a),r=t(29),i=t(3),j=t(13),l=t(24),b=t(2);var d,o=function(){var e=Object(c.useState)(""),s=Object(j.a)(e,2),t=s[0],a=s[1],n=Object(i.e)();return Object(b.jsx)("div",{className:"mainbody",children:Object(b.jsxs)("div",{className:"global",children:[Object(b.jsxs)("h2",{children:[Object(b.jsx)("span",{children:Object(b.jsx)(l.a,{})}),"Global-Chat"]}),Object(b.jsxs)("p",{children:["Dear User,Welcome to ",Object(b.jsx)("code",{children:"GLOBAL-CHAT"}),".",Object(b.jsx)("br",{}),"Join the chat by entering your name and start Exploring "]}),Object(b.jsx)("div",{className:"items",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();for(var s=0;s<3;s++)a(t+=Math.floor(10*Math.random()));n.push("/global/?name=".concat(t))},children:[Object(b.jsx)("p",{children:"Username"}),Object(b.jsx)("input",{type:"text",value:t,placeholder:"Enter username...",onChange:function(e){a(e.target.value.trim())},required:!0}),Object(b.jsx)("button",{type:"submit",children:"Join Chat"})]})})]})})},m=t(53),h=t(50),u=t.n(h),O=t(51),x=t.n(O),p=t(52);var g=function(e){var s=e.location,t=Object(c.useState)(""),a=Object(j.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(""),o=Object(j.a)(i,2),h=o[0],O=o[1],g=Object(c.useState)([]),v=Object(j.a)(g,2),f=v[0],N=v[1],y=Object(c.useState)([]),S=Object(j.a)(y,2),C=S[0],E=S[1],U=Object(c.useState)(!0),M=Object(j.a)(U,2),A=M[0],J=M[1];return Object(c.useEffect)((function(){J(!0),d=x()("https://global-951.herokuapp.com/");var e=u.a.parse(s.search);r(e.name),d.emit("globaljoin",{user:e.name}),d.on("ActiveUsers",(function(e){E(e)})),J(!1)}),[s.search]),Object(c.useEffect)((function(){d.on("message",(function(e){N([].concat(Object(m.a)(f),[e]));var s=document.getElementById("messages");s.scrollTop=s.scrollHeight}))})),A?Object(b.jsx)("h1",{children:"Loading..."}):Object(b.jsxs)("div",{className:"chatbody",children:[Object(b.jsx)("div",{className:"bg"}),Object(b.jsx)("div",{className:"head",children:Object(b.jsxs)("h2",{children:[Object(b.jsx)("span",{children:Object(b.jsx)(l.a,{})}),"Global-Chat"]})}),Object(b.jsxs)("div",{className:"mainchatbody",children:[Object(b.jsxs)("div",{className:"left",children:[Object(b.jsxs)("div",{className:"title",children:[Object(b.jsx)("em",{children:"Your Username:"}),Object(b.jsx)("p",{children:n})]}),Object(b.jsxs)("div",{className:"online",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:Object(b.jsx)(p.a,{})}),"Online Users:"]}),Object(b.jsx)("ul",{children:C.map((function(e){return Object(b.jsx)("li",{children:e.user},e.id)}))})]})]}),Object(b.jsxs)("div",{className:"right",children:[Object(b.jsx)("div",{className:"messages",id:"messages",children:f.map((function(e,s){return"admin"!==e.user?Object(b.jsxs)("div",{className:"message",children:[Object(b.jsx)("p",{className:"username",children:e.user}),Object(b.jsx)("p",{className:"usermessage",children:e.msg})]},s):Object(b.jsxs)("div",{className:"adminMessage",children:[Object(b.jsx)("p",{className:"adminusername",children:e.user}),Object(b.jsx)("p",{className:"adminusermessage",children:e.msg})]},s)}))}),Object(b.jsx)("div",{className:"send",children:Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),h.trim()){var s={user:n,msg:h};d.emit("sendMessage",s),O(""),d.on("ActiveUsers",(function(e){E(e)}))}if("/online"===h.trim()){for(var t=C.map((function(e){return e.user})),c="",a=0;a<t.length;a++)c+="".concat(a+1,".")+t[a]+", ";var r={user:"admin",msg:c=c.substring(0,c.length-2)};d.emit("sendMessage",r)}},children:[Object(b.jsx)("input",{type:"text",value:h,onChange:function(e){O(e.target.value)},placeholder:"Type a message..."}),Object(b.jsx)("button",{type:"submit",children:"Send"})]})})]})]})]})};t(97);var v=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"bgblur"}),Object(b.jsxs)(r.a,{children:[Object(b.jsx)(i.a,{path:"/",exact:!0,component:o}),Object(b.jsx)(i.a,{path:"/global",component:g})]})]})};n.a.render(Object(b.jsx)(v,{}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.01b5d078.chunk.js.map